// 轮播组件


/**
 * 轮播组件类
 * @param {string} master 轮播父元素, 轮播将存放到该元素中
 * @param {object} config 轮播配置
 */var A4paperRotateSeeding=function(a,b){this.config=b;this.master=a;this.rotateSeedingTimer=null;this.timeInterval=b.interval;this.rotateSeedingImages=b.images;this.rotateSeedingImagesHeight=0;this.rotateSeedingBoxStack=b.stack;this.rotateSeedingImageIndex=0;this.switchingTime=b.time;this.rotateSeedingImageStyle=["max-width: 100%","position: absolute","user-select: none"];this.rotateSeedingBoxStyle=["position: relative","top: 0px","left: 0px","width: 100%","height: 100%"];if(this.switchingTime>=this.timeInterval)throw"Rotational image switching time cannot be greater than the time interval";this.switchingTime||(this.switchingTime=1500);this.timeInterval||(this.timeInterval=5E3);this.rotateSeedingBoxStack||(this.rotateSeedingBoxStack=100);this.rotateSeedingButtonStyle=["position: absolute","top: 0px","height: 0px","z-index: "+this.rotateSeedingBoxStack,"width: 50px","height: 100%","font-size: 40px","color: rgba(225, 225, 225, 0.8)","cursor: pointer","user-select: none","transition: color 0.5s","display: flex","justify-content: center","align-items: center"];b.autoHide&&this.rotateSeedingBoxStyle.push("overflow: hidden");b.limit&&(this.rotateSeedingImageStyle.push("max-width: 100%"),this.rotateSeedingImageStyle.push("max-height: 100%"));b.width&&this.rotateSeedingBoxStyle.push("width: "+b.width);b.autoWidth&&this.rotateSeedingImageStyle.push("width: 100%");b.height&&this.rotateSeedingBoxStyle.push("height: "+b.height);b.autoHeight&&this.rotateSeedingImageStyle.push("height: 100%");var d=this;this.master2=document.createElement("div");this.master2.style.width="100%";this.master2.style.height="100%";this.master2.style.position="relative";this.master2.style.transition="height "+this.switchingTime/1E3+"s";this.master.appendChild(this.master2);this.rotateSeedingBox=document.createElement("div");this.rotateSeedingBox.setAttribute("style",this.rotateSeedingBoxStyle.join("; ")+";");this.master2.appendChild(this.rotateSeedingBox);if(b.controls){this.rotateSeedingButtonPrevious=document.createElement("div");this.rotateSeedingButtonNext=document.createElement("div");var c=this.rotateSeedingButtonStyle.slice();c.push("left: 0px");this.rotateSeedingButtonPrevious.setAttribute("style",c.join("; ")+";");this.rotateSeedingButtonPrevious.setAttribute("class","a4paper-rotate-seeding-button");this.rotateSeedingButtonPrevious.innerText="\x3c";c=this.rotateSeedingButtonStyle.slice();c.push("right: 0px");this.rotateSeedingButtonNext.setAttribute("style",c.join("; ")+";");this.rotateSeedingButtonNext.setAttribute("class","a4paper-rotate-seeding-button");this.rotateSeedingButtonNext.innerText="\x3e";this.master2.appendChild(this.rotateSeedingButtonPrevious);this.master2.appendChild(this.rotateSeedingButtonNext);this.rotateSeedingButtonPrevious.onclick=function(){window.clearInterval(d.rotateSeedingTimer);d.move("p");d.start()};this.rotateSeedingButtonNext.onclick=function(){window.clearInterval(d.rotateSeedingTimer);d.move("n");d.start()}}if(0>=this.rotateSeedingImages.length)throw"There are no rotating images to process";if(2>this.rotateSeedingImages.length)c=document.createElement("img"),c.setAttribute("style",this.rotateSeedingImageStyle.join("; ")+";"),c.setAttribute("src",this.getImagePath("c")),this.rotateSeedingBox.appendChild(c);else{var c=document.createElement("img"),e=this.rotateSeedingImageStyle.slice();e.push("left: 0px");e.push("transition: left "+this.switchingTime/1E3+"s");c.setAttribute("style",e.join("; ")+";");c.setAttribute("src",this.getImagePath("c"));b.followPicture&&(c.onload=function(){d.master2.style.height=this.clientHeight+"px"});this.rotateSeedingBox.appendChild(c);this.start()}};A4paperRotateSeeding.prototype.dataType=function(a){a=Object.prototype.toString.call(a);if("[object Number]"==a)return"number";if("[object String]"==a)return"string";if("[object Array]"==a)return"array";if("[object Object]"==a)return"object"};A4paperRotateSeeding.prototype.getImagePath=function(a){if("n"==a)this.rotateSeedingImageIndex=this.rotateSeedingImageIndex+1>=this.rotateSeedingImages.length?0:this.rotateSeedingImageIndex+1;else if("p"==a)0>=this.rotateSeedingImageIndex-1?this.rotateSeedingImageIndex=this.rotateSeedingImages.length-1:--this.rotateSeedingImageIndex;else if("c"!=a)throw"getImagePath(directions): Invalid parameters";return this.rotateSeedingImages[this.rotateSeedingImageIndex]};A4paperRotateSeeding.prototype.move=function(a){if("n"!=a&&"p"!=a)throw"move(directions): Invalid parameters";var b=this,d=document.createElement("img"),c=this.rotateSeedingImageStyle.slice();c.push("left: "+("n"==a?this.rotateSeedingBox.clientWidth:-1*this.rotateSeedingBox.clientWidth)+"px");c.push("transition: left "+this.switchingTime/1E3+"s");d.setAttribute("style",c.join("; ")+";");d.setAttribute("src","n"==a?this.getImagePath("n"):this.getImagePath("p"));this.config.followPicture&&(d.onload=function(){b.master2.style.height=this.clientHeight+"px"});this.rotateSeedingBox.appendChild(d);this.rotateSeedingBox.children[this.rotateSeedingBox.children.length-2].style.left=("n"==a?-1*this.rotateSeedingBox.clientWidth:this.rotateSeedingBox.clientWidth)+"px";d.style.left="0px";window.setTimeout(function(){b.rotateSeedingBox.removeChild(b.rotateSeedingBox.children[0])},this.switchingTime)};A4paperRotateSeeding.prototype.start=function(){var a=this;this.rotateSeedingTimer=window.setInterval(function(){a.move("n")},a.timeInterval)};